[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Background and data visualisations",
    "section": "",
    "text": "library(jsonlite)\nlibrary(rvest)\nlibrary(httr2)\nlibrary(tidyverse)\nlibrary(finalfit)\ntheme_set(theme_bw())\n\nBeans are important for many reasons.\n\n# Fetch the data\ndf &lt;- read.csv(\"https://ourworldindata.org/grapher/bean-production.csv?v=1&csvType=full&useColumnShortNames=true\")\n\n# Fetch the metadata\nmetadata &lt;- fromJSON(\"https://ourworldindata.org/grapher/bean-production.metadata.json?v=1&csvType=full&useColumnShortNames=true\")\n\n\n# Fetch the data\nworld_population &lt;- read.csv(\"https://ourworldindata.org/grapher/population-regions-with-projections.csv?v=1&csvType=full&useColumnShortNames=true\")\n\n# Fetch the metadata\npopulation_metadata &lt;- fromJSON(\"https://ourworldindata.org/grapher/population-regions-with-projections.metadata.json?v=1&csvType=full&useColumnShortNames=true\")\n\n\nbeans &lt;- df %&gt;% \n  rename(\"production\"=  beans__dry__00000176__production__005510__tonnes)\n\n\nmissing_glimpse(beans)\n\n\n\n\n\n\nlabel\nvar_type\nn\nmissing_n\nmissing_percent\n\n\n\n\nEntity\nEntity\n\n9799\n0\n0.0\n\n\nCode\nCode\n\n9799\n0\n0.0\n\n\nYear\nYear\n\n9799\n0\n0.0\n\n\nproduction\nproduction\n\n9799\n0\n0.0\n\n\n\n\n\n\n\ncontinents &lt;- beans %&gt;% \n  filter(Entity %in% c(\"Europe\",\"Africa\",\"North America\",\"South America\",\"Asia\",\n                       \"Oceania\"))\n\n\nfao_subregions &lt;- beans %&gt;% \n  filter(str_detect(Entity,\"FAO\"))\n\n\nincome_groups &lt;-  beans %&gt;% \n  filter(str_detect(Entity,\"ncome\")) %&gt;% \n  filter(!str_detect(Entity,\"FAO\"))\n\nusa &lt;- beans %&gt;% \n  filter(Entity == \"United States\")\n\n\ndevelopment_groups&lt;- beans %&gt;% \n  filter(str_detect(Entity,\"Countries\"))\n\n\nbeans_continents &lt;-  continents %&gt;% \n  distinct(Entity) %&gt;% \n  pull(Entity)\n\ncontinents_pop &lt;-  world_population %&gt;% \n  filter(Entity %in%  beans_continents,Year &gt;=1961 & Year&lt;=2022)\n\ncontinents &lt;-  inner_join(continents,continents_pop, by =c(\"Entity\",\"Code\", \"Year\"),relationship = 'many-to-many')\n\n\ncountries &lt;- beans %&gt;% filter(Code !=\"\",Entity != \"World\")\n\npop_countries &lt;- world_population %&gt;% filter(Code !=\"\",Entity != \"World\",\n                                             Year &gt;=1961 &Year&lt;=2022)\n\n beans_countries &lt;- countries %&gt;% \n  distinct(Entity) %&gt;% \n  pull(Entity)\n \n pop_beans_countries &lt;-  pop_countries %&gt;% \n   filter(Entity %in% beans_countries)\n \n countries &lt;-  inner_join(countries,pop_countries,by =c(\"Entity\",\"Code\", \"Year\"),relationship = 'many-to-many')\n\n\ntotal_prod_year &lt;-  continents %&gt;% \n  group_by(Year) %&gt;% \n  summarise(total_production = sum(production))\n\n\ntotal_prod_year %&gt;% \n  ggplot(aes(x = Year, y=total_production ))+\n  geom_line(color = \"steelblue\",linewidth = 1)+\n  geom_point(color = \"red\")+\n  labs(title = \"Global Beans Production Over the Years\",\n    x = \"Year\",\n       y = \"Production (Metric Tons)\",           \n       caption = \"Source:Ourworldindata.org\"\n  )+\n   theme( plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"),\n          axis.title = element_text(size = 12),\n    axis.text = element_text(size = 10))\n\n\n\n\n\n\n\n\nThe chart shows a significant upward trend in global bean production from 1961 to 2022, reflecting steady growth driven by rising demand or advances in agriculture. While production consistently increases, there are periodic fluctuations, likely due to factors such as weather or market dynamics. Notably, the growth accelerates after 2000, with sharper rises and higher peaks, highlighting increased production efficiency or expanded cultivation during this period.\n\ncontinents %&gt;% \n  ggplot(aes(x = Year,y = production, colour = Entity))+\n  geom_line(size = 1)+\n  labs(title = \"Trends in Beans Production Across Continents (Yearly Analysis)\",\n       subtitle = \"A visualization of annual production trends for major continents\",\n       x = \"Year\",\n       y = \"Production (Metric Tons)\",           \n       color = \"Continent\"\n  )+\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"), \n    plot.subtitle = element_text(hjust = 0.5, size = 12),            \n    legend.position = \"right\",                                    \n    axis.title = element_text(size = 12),\n    axis.text = element_text(size = 10)\n  )\n\n\n\n\n\n\n\n\nThe line plot illustrates trends in bean production across continents from 1961 to 2022. Asia consistently leads in production, showing a steady and significant increase over time. Africa exhibits remarkable growth, particularly after 2000, surpassing South America and becoming the second-largest producer by 2020. South America also experiences notable growth, especially post-2000, but remains behind Africa in recent years. Europe and North America maintain relatively stable and moderate production levels throughout the period, while Oceania’s contribution remains minimal and negligible. Overall, the plot highlights Asia’s dominance, Africa’s rapid rise, and South America’s steady progress in bean production.\n\ncontinents %&gt;% \n  ggplot(aes(x = Year,y = Entity,fill = production))+\n  geom_tile()+\n  scale_fill_viridis_c(option = \"viridis\")+\n  labs(\n    title = \"Beans Production Heatmap\",\n    x = \"Year\",\n    y = \"Region\",\n    fill = \"Production\"\n  )+\n theme( plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"))\n\n\n\n\n\n\n\n\nThe heatmap illustrates bean production trends across regions from 1961 to 2022, with color intensity representing production levels. Asia remains the dominant producer, steadily increasing from moderate levels (green) to the highest production levels (yellow) by 2020. Africa shows significant growth, starting from low production (blue) in the 1960s and surpassing South America after 2000, reaching higher levels (green) by 2020. South America, while showing noticeable growth, remains at slightly lower production levels compared to Africa in recent decades. Europe and North America maintain relatively stable but moderate production, while Oceania continues to have negligible production throughout the period. The visualization highlights Asia’s dominance, Africa’s remarkable rise, and South America’s steady growth in global bean production.\n\ncontinents %&gt;% \n  ggplot(aes(x = Year, y = production, fill = Entity))+\n  geom_area(alpha= 0.8)+\n  labs(\n    title = \"Regional Contribution to Global Beans Production\",\n    x = \"Year\",\n    y = \"Production (Metric Tons)\",\n    fill = \"Region\"\n  )+\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"),\n    axis.title = element_text(size = 12),\n    axis.text = element_text(size = 10)\n  )\n\n\n\n\n\n\n\n\nThe stacked area plot displays the regional contributions to global bean production from 1960 to 2020. Asia dominates throughout the period, with a steadily increasing share that contributes significantly to the global total. Africa shows notable growth, particularly after 2000, becoming the second-largest contributor by 2020 and surpassing South America, which also experiences substantial growth but remains third. Europe and North America maintain relatively stable contributions, with modest increases over time, while Oceania’s contribution remains minimal and negligible\n\ncountries %&gt;%  \n  group_by(Entity) %&gt;% \n  summarise(Total_production = sum(production)) %&gt;% \n  slice_max(order_by =  Total_production, n= 5) %&gt;%  \n  ggplot(aes(x = reorder(Entity,Total_production),y = Total_production,fill = Entity))+\n  geom_col(show.legend = FALSE)+\n  coord_flip()+\n  labs(\n    title = \"Top 5 Beans Producing Countries\",\n    x = \"Country\",\n    y = \"Total Production (Metric Tons)\"\n  )+\n  theme( plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\")) \n\n\n\n\n\n\n\n\nThe bar chart highlights the top five bean-producing countries based on total production in metric tons. India leads significantly, with the highest production far exceeding other countries. Brazil ranks second, followed by China, both with substantial but lower production compared to India. Myanmar and the United States round out the top five.\n\ncontinents %&gt;% \n  mutate(PerCapitaProduction = production/population) %&gt;% \n  ggplot(aes(x = Year, y= PerCapitaProduction, size = population,\n             color = Entity))+\n  geom_point(alpha= 0.7)+\n  labs(\n    title = \"Per Capita Beans Production Over Time\",\n    x = \"Year\",\n    y = \"Per Capita Production (Metric Tons)\",\n    size = \"Population\",\n    color = \"Region\"\n  )+\n  theme(plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"))\n\n\n\n\n\n\n\n\nThe scatter plot shows per capita bean production over time across different regions, with point size representing population. South America consistently has the highest per capita production, remaining well above other regions throughout the period.\n\ncontinents %&gt;% \n  group_by(Entity) %&gt;% \n  arrange(Year) %&gt;% \n  mutate(GrowthRate = (production - lag(production)/lag(production)*100)) %&gt;% \n  ggplot(aes(x = Year, y= GrowthRate, color = Entity))+\n  geom_line(size = 1)+\n  labs(\n    title = \"Beans Production Growth Rates by Region\",\n    x = \"Year\",\n    y = \"Growth Rate (%)\",\n    color = \"Region\"\n  )+\n  theme(plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"))\n\n\n\n\n\n\n\n\nThe line plot shows bean production growth rates by region from 1961 to 2022. Asia consistently leads with the highest growth rates, demonstrating a steady and substantial increase over time. Africa exhibits significant growth, particularly accelerating after 2000, suggesting major improvements in production capacity. South America and North America show moderate growth, with periodic fluctuations but a clear upward trend overall."
  },
  {
    "objectID": "halp.html",
    "href": "halp.html",
    "title": "Halp",
    "section": "",
    "text": "Help me figure out this website please\ntest test test"
  },
  {
    "objectID": "halp.html#shiny-documents",
    "href": "halp.html#shiny-documents",
    "title": "Untitled",
    "section": "",
    "text": "This Quarto document is made interactive using Shiny. Interactive documents allow readers to modify parameters and see the results immediately. Learn more about Shiny interactive documents at https://quarto.org/docs/interactive/shiny/."
  },
  {
    "objectID": "halp.html#inputs-and-outputs",
    "href": "halp.html#inputs-and-outputs",
    "title": "Untitled",
    "section": "Inputs and Outputs",
    "text": "Inputs and Outputs\nYou can embed Shiny inputs and outputs in your document. Outputs are automatically updated whenever inputs change. This demonstrates how a standard R plot can be made interactive:\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n\nlibrary(shiny)\n\n# Define your Shiny UI here\nui &lt;- fluidPage(\n  # Your UI components go here\n)\n\n# Define your Shiny server logic here\nserver &lt;- function(input, output, session) {\n  # Your server code goes here\n}\n\n# Create and launch the Shiny app\nshinyApp(ui, server)"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "dashboard1.html",
    "href": "dashboard1.html",
    "title": "Explore models interactively",
    "section": "",
    "text": "This is a test of a shiny dashboard yay"
  },
  {
    "objectID": "dashboard2.html",
    "href": "dashboard2.html",
    "title": "Use models",
    "section": "",
    "text": "This is a blank page which will be used to create a second shiny dashboard, which we will use such that user can upload csv, we calculate values and return csv to user."
  },
  {
    "objectID": "ml_overview.html",
    "href": "ml_overview.html",
    "title": "Models overview",
    "section": "",
    "text": "This page will contain some information about the process of where the beans data came from, how we fit the machine learning models, how their training performed, and what the final models we decided to use were."
  },
  {
    "objectID": "background.html",
    "href": "background.html",
    "title": "Background and data visualisations",
    "section": "",
    "text": "library(jsonlite)\nlibrary(rvest)\nlibrary(httr2)\nlibrary(tidyverse)\nlibrary(finalfit)\ntheme_set(theme_bw())\n\nBeans are important for many reasons.\n\n# Fetch the data\ndf &lt;- read.csv(\"https://ourworldindata.org/grapher/bean-production.csv?v=1&csvType=full&useColumnShortNames=true\")\n\n# Fetch the metadata\nmetadata &lt;- fromJSON(\"https://ourworldindata.org/grapher/bean-production.metadata.json?v=1&csvType=full&useColumnShortNames=true\")\n\n\n# Fetch the data\nworld_population &lt;- read.csv(\"https://ourworldindata.org/grapher/population-regions-with-projections.csv?v=1&csvType=full&useColumnShortNames=true\")\n\n# Fetch the metadata\npopulation_metadata &lt;- fromJSON(\"https://ourworldindata.org/grapher/population-regions-with-projections.metadata.json?v=1&csvType=full&useColumnShortNames=true\")\n\n\nbeans &lt;- df %&gt;% \n  rename(\"production\"=  beans__dry__00000176__production__005510__tonnes)\n\n\nmissing_glimpse(beans)\n\n\n\n\n\n\nlabel\nvar_type\nn\nmissing_n\nmissing_percent\n\n\n\n\nEntity\nEntity\n\n9799\n0\n0.0\n\n\nCode\nCode\n\n9799\n0\n0.0\n\n\nYear\nYear\n\n9799\n0\n0.0\n\n\nproduction\nproduction\n\n9799\n0\n0.0\n\n\n\n\n\n\n\ncontinents &lt;- beans %&gt;% \n  filter(Entity %in% c(\"Europe\",\"Africa\",\"North America\",\"South America\",\"Asia\",\n                       \"Oceania\"))\n\n\nfao_subregions &lt;- beans %&gt;% \n  filter(str_detect(Entity,\"FAO\"))\n\n\nincome_groups &lt;-  beans %&gt;% \n  filter(str_detect(Entity,\"ncome\")) %&gt;% \n  filter(!str_detect(Entity,\"FAO\"))\n\nusa &lt;- beans %&gt;% \n  filter(Entity == \"United States\")\n\n\ndevelopment_groups&lt;- beans %&gt;% \n  filter(str_detect(Entity,\"Countries\"))\n\n\nbeans_continents &lt;-  continents %&gt;% \n  distinct(Entity) %&gt;% \n  pull(Entity)\n\ncontinents_pop &lt;-  world_population %&gt;% \n  filter(Entity %in%  beans_continents,Year &gt;=1961 & Year&lt;=2022)\n\ncontinents &lt;-  inner_join(continents,continents_pop, by =c(\"Entity\",\"Code\", \"Year\"),relationship = 'many-to-many')\n\n\ncountries &lt;- beans %&gt;% filter(Code !=\"\",Entity != \"World\")\n\npop_countries &lt;- world_population %&gt;% filter(Code !=\"\",Entity != \"World\",\n                                             Year &gt;=1961 &Year&lt;=2022)\n\n beans_countries &lt;- countries %&gt;% \n  distinct(Entity) %&gt;% \n  pull(Entity)\n \n pop_beans_countries &lt;-  pop_countries %&gt;% \n   filter(Entity %in% beans_countries)\n \n countries &lt;-  inner_join(countries,pop_countries,by =c(\"Entity\",\"Code\", \"Year\"),relationship = 'many-to-many')\n\n\ntotal_prod_year &lt;-  continents %&gt;% \n  group_by(Year) %&gt;% \n  summarise(total_production = sum(production))\n\n\ntotal_prod_year %&gt;% \n  ggplot(aes(x = Year, y=total_production ))+\n  geom_line(color = \"steelblue\",linewidth = 1)+\n  geom_point(color = \"red\")+\n  labs(title = \"Global Beans Production Over the Years\",\n    x = \"Year\",\n       y = \"Production (Metric Tons)\",           \n       caption = \"Source:Ourworldindata.org\"\n  )+\n   theme( plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"),\n          axis.title = element_text(size = 12),\n    axis.text = element_text(size = 10))\n\n\n\n\n\n\n\n\nThe chart shows a significant upward trend in global bean production from 1961 to 2022, reflecting steady growth driven by rising demand or advances in agriculture. While production consistently increases, there are periodic fluctuations, likely due to factors such as weather or market dynamics. Notably, the growth accelerates after 2000, with sharper rises and higher peaks, highlighting increased production efficiency or expanded cultivation during this period.\n\ncontinents %&gt;% \n  ggplot(aes(x = Year,y = production, colour = Entity))+\n  geom_line(size = 1)+\n  labs(title = \"Trends in Beans Production Across Continents (Yearly Analysis)\",\n       subtitle = \"A visualization of annual production trends for major continents\",\n       x = \"Year\",\n       y = \"Production (Metric Tons)\",           \n       color = \"Continent\"\n  )+\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"), \n    plot.subtitle = element_text(hjust = 0.5, size = 12),            \n    legend.position = \"right\",                                    \n    axis.title = element_text(size = 12),\n    axis.text = element_text(size = 10)\n  )\n\n\n\n\n\n\n\n\nThe line plot illustrates trends in bean production across continents from 1961 to 2022. Asia consistently leads in production, showing a steady and significant increase over time. Africa exhibits remarkable growth, particularly after 2000, surpassing South America and becoming the second-largest producer by 2020. South America also experiences notable growth, especially post-2000, but remains behind Africa in recent years. Europe and North America maintain relatively stable and moderate production levels throughout the period, while Oceania’s contribution remains minimal and negligible. Overall, the plot highlights Asia’s dominance, Africa’s rapid rise, and South America’s steady progress in bean production.\n\ncontinents %&gt;% \n  ggplot(aes(x = Year,y = Entity,fill = production))+\n  geom_tile()+\n  scale_fill_viridis_c(option = \"viridis\")+\n  labs(\n    title = \"Beans Production Heatmap\",\n    x = \"Year\",\n    y = \"Region\",\n    fill = \"Production\"\n  )+\n theme( plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"))\n\n\n\n\n\n\n\n\nThe heatmap illustrates bean production trends across regions from 1961 to 2022, with color intensity representing production levels. Asia remains the dominant producer, steadily increasing from moderate levels (green) to the highest production levels (yellow) by 2020. Africa shows significant growth, starting from low production (blue) in the 1960s and surpassing South America after 2000, reaching higher levels (green) by 2020. South America, while showing noticeable growth, remains at slightly lower production levels compared to Africa in recent decades. Europe and North America maintain relatively stable but moderate production, while Oceania continues to have negligible production throughout the period. The visualization highlights Asia’s dominance, Africa’s remarkable rise, and South America’s steady growth in global bean production.\n\ncontinents %&gt;% \n  ggplot(aes(x = Year, y = production, fill = Entity))+\n  geom_area(alpha= 0.8)+\n  labs(\n    title = \"Regional Contribution to Global Beans Production\",\n    x = \"Year\",\n    y = \"Production (Metric Tons)\",\n    fill = \"Region\"\n  )+\n  theme(\n    plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"),\n    axis.title = element_text(size = 12),\n    axis.text = element_text(size = 10)\n  )\n\n\n\n\n\n\n\n\nThe stacked area plot displays the regional contributions to global bean production from 1960 to 2020. Asia dominates throughout the period, with a steadily increasing share that contributes significantly to the global total. Africa shows notable growth, particularly after 2000, becoming the second-largest contributor by 2020 and surpassing South America, which also experiences substantial growth but remains third. Europe and North America maintain relatively stable contributions, with modest increases over time, while Oceania’s contribution remains minimal and negligible\n\ncountries %&gt;%  \n  group_by(Entity) %&gt;% \n  summarise(Total_production = sum(production)) %&gt;% \n  slice_max(order_by =  Total_production, n= 5) %&gt;%  \n  ggplot(aes(x = reorder(Entity,Total_production),y = Total_production,fill = Entity))+\n  geom_col(show.legend = FALSE)+\n  coord_flip()+\n  labs(\n    title = \"Top 5 Beans Producing Countries\",\n    x = \"Country\",\n    y = \"Total Production (Metric Tons)\"\n  )+\n  theme( plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\")) \n\n\n\n\n\n\n\n\nThe bar chart highlights the top five bean-producing countries based on total production in metric tons. India leads significantly, with the highest production far exceeding other countries. Brazil ranks second, followed by China, both with substantial but lower production compared to India. Myanmar and the United States round out the top five.\n\ncontinents %&gt;% \n  mutate(PerCapitaProduction = production/population) %&gt;% \n  ggplot(aes(x = Year, y= PerCapitaProduction, size = population,\n             color = Entity))+\n  geom_point(alpha= 0.7)+\n  labs(\n    title = \"Per Capita Beans Production Over Time\",\n    x = \"Year\",\n    y = \"Per Capita Production (Metric Tons)\",\n    size = \"Population\",\n    color = \"Region\"\n  )+\n  theme(plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"))\n\n\n\n\n\n\n\n\nThe scatter plot shows per capita bean production over time across different regions, with point size representing population. South America consistently has the highest per capita production, remaining well above other regions throughout the period.\n\ncontinents %&gt;% \n  group_by(Entity) %&gt;% \n  arrange(Year) %&gt;% \n  mutate(GrowthRate = (production - lag(production)/lag(production)*100)) %&gt;% \n  ggplot(aes(x = Year, y= GrowthRate, color = Entity))+\n  geom_line(size = 1)+\n  labs(\n    title = \"Beans Production Growth Rates by Region\",\n    x = \"Year\",\n    y = \"Growth Rate (%)\",\n    color = \"Region\"\n  )+\n  theme(plot.title = element_text(hjust = 0.5, size = 14, face = \"bold\"))\n\n\n\n\n\n\n\n\nThe line plot shows bean production growth rates by region from 1961 to 2022. Asia consistently leads with the highest growth rates, demonstrating a steady and substantial increase over time. Africa exhibits significant growth, particularly accelerating after 2000, suggesting major improvements in production capacity. South America and North America show moderate growth, with periodic fluctuations but a clear upward trend overall."
  }
]